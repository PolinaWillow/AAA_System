{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback, useEffect } from \"react\";\nconst storageName = 'userData';\nexport const useAuth = () => {\n  _s();\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n\n  //Логирование\n  const login = useCallback((jwtToken, id) => {\n    setToken(jwtToken);\n    setUserId(id);\n\n    //Записываем в локалсторэдж токен и id\n    localStorage.setItem(storageName, JSON.stringify({\n      userId: id,\n      token: jwtToken\n    }));\n  }, []);\n\n  //Разлогирование\n  const logout = useCallback(() => {\n    setToken(null);\n    setUserId(null);\n    //Очищаем локалсторэдж\n    localStorage.removeItem(storageName);\n  }, []);\n\n  //Проверка есть ли в локалсторэдже какие-либо данные\n  /*useEffect(()=>{\r\n      const data = JSON.parse(localStorage.getItem(storageName))\r\n      if(data&&data.token){\r\n          login(data.token, data.userId)\r\n      }\r\n  }, [login])*/\n\n  return {\n    login,\n    logout,\n    token,\n    userId\n  };\n};\n_s(useAuth, \"/315Eswrhta4tzsU4aH6bS9b3S0=\");","map":{"version":3,"names":["useState","useCallback","useEffect","storageName","useAuth","_s","token","setToken","userId","setUserId","login","jwtToken","id","localStorage","setItem","JSON","stringify","logout","removeItem"],"sources":["C:/UsersFolders/Polina/Учеба/МАГА/1 семестр/Информационная безопасность/AAA_System/client/src/hooks/auth.hook.js"],"sourcesContent":["import { useState, useCallback, useEffect } from \"react\"\r\n\r\nconst storageName = 'userData'\r\n\r\nexport const useAuth = () =>{\r\n    const [token, setToken] = useState(null)\r\n    const [userId, setUserId] = useState(null)\r\n\r\n    //Логирование\r\n    const login = useCallback((jwtToken, id)=>{\r\n        setToken(jwtToken)\r\n        setUserId(id)\r\n\r\n        //Записываем в локалсторэдж токен и id\r\n        localStorage.setItem(storageName, JSON.stringify({userId: id, token: jwtToken}))\r\n    },[])\r\n\r\n    //Разлогирование\r\n    const logout = useCallback(()=>{\r\n        setToken(null)\r\n        setUserId(null)\r\n        //Очищаем локалсторэдж\r\n        localStorage.removeItem(storageName)\r\n    },[])\r\n\r\n    //Проверка есть ли в локалсторэдже какие-либо данные\r\n    /*useEffect(()=>{\r\n        const data = JSON.parse(localStorage.getItem(storageName))\r\n        if(data&&data.token){\r\n            login(data.token, data.userId)\r\n        }\r\n    }, [login])*/\r\n\r\n\r\n    return {login, logout, token, userId}\r\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAExD,MAAMC,WAAW,GAAG,UAAU;AAE9B,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAK;EAAAC,EAAA;EACxB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;;EAE1C;EACA,MAAMU,KAAK,GAAGT,WAAW,CAAC,CAACU,QAAQ,EAAEC,EAAE,KAAG;IACtCL,QAAQ,CAACI,QAAQ,CAAC;IAClBF,SAAS,CAACG,EAAE,CAAC;;IAEb;IACAC,YAAY,CAACC,OAAO,CAACX,WAAW,EAAEY,IAAI,CAACC,SAAS,CAAC;MAACR,MAAM,EAAEI,EAAE;MAAEN,KAAK,EAAEK;IAAQ,CAAC,CAAC,CAAC;EACpF,CAAC,EAAC,EAAE,CAAC;;EAEL;EACA,MAAMM,MAAM,GAAGhB,WAAW,CAAC,MAAI;IAC3BM,QAAQ,CAAC,IAAI,CAAC;IACdE,SAAS,CAAC,IAAI,CAAC;IACf;IACAI,YAAY,CAACK,UAAU,CAACf,WAAW,CAAC;EACxC,CAAC,EAAC,EAAE,CAAC;;EAEL;EACA;AACJ;AACA;AACA;AACA;AACA;;EAGI,OAAO;IAACO,KAAK;IAAEO,MAAM;IAAEX,KAAK;IAAEE;EAAM,CAAC;AACzC,CAAC;AAAAH,EAAA,CA/BYD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}